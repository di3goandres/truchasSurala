<div class="container alternate-theme" >
    <mat-horizontal-stepper [linear]="false"  #stepper>
      <mat-step>
        <ng-template matStepLabel>Mortalidades</ng-template>
        <mat-card class="example-card">
          <mat-card-header>
         
            <mat-card-title>
                    Registro de Mortalidades
            </mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <div class="table-responsive">
              <table id="customers" matTableExporter #exporter="matTableExporter" mat-table [dataSource]="dataSource"
                class="mat-elevation-z8">
                <ng-container matColumnDef="position">
                  <th mat-header-cell *matHeaderCellDef> No. </th>
                  <td mat-cell *matCellDef="let element; let i = index"> {{i + 1}} </td>
                </ng-container>
  
      
  
                <ng-container matColumnDef="fecha">
                  <th mat-header-cell *matHeaderCellDef> Fecha Despacho </th>
                  <td mat-cell *matCellDef="let element">
                    {{ element.fecha |date :"MMM/dd/yyyy" | uppercase }} </td>
                </ng-container>
  
                <ng-container matColumnDef="total_ovas">
                  <th mat-header-cell *matHeaderCellDef> Total Ovas </th>
                  <td mat-cell *matCellDef="let element">
                    {{element.total_ovas | number}} </td>
                </ng-container>

                <ng-container matColumnDef="numero_ovas">
                    <th mat-header-cell *matHeaderCellDef> # Ovas </th>
                    <td mat-cell *matCellDef="let element">
                      {{element.numero_ovas | number}} </td>
                  </ng-container>
                  <ng-container matColumnDef="ovas_regalo">
                    <th mat-header-cell *matHeaderCellDef> Ovas regalo </th>
                    <td mat-cell *matCellDef="let element">
                      {{element.ovas_regalo | number}} </td>
                  </ng-container>
                  <ng-container matColumnDef="ovas_adicionales">
                    <th mat-header-cell *matHeaderCellDef>  Ovas adicionales </th>
                    <td mat-cell *matCellDef="let element">
                      {{element.ovas_adicionales | number}} </td>
                  </ng-container>
                  <ng-container matColumnDef="ovas_reposicion">
                    <th mat-header-cell *matHeaderCellDef> Ovas reposici√≥n </th>
                    <td mat-cell *matCellDef="let element">
                      {{element.ovas_reposicion | number}} </td>
                  </ng-container>
                  <ng-container matColumnDef="cantidad">
                    <th mat-header-cell *matHeaderCellDef> # Mortalidad</th>
                    <td mat-cell *matCellDef="let element">
                      {{element.cantidad | number}} </td>
                  </ng-container>
                  <ng-container matColumnDef="porcentaje">
                    <th mat-header-cell *matHeaderCellDef> %</th>
                    <td mat-cell *matCellDef="let element">
                      {{element.porcentaje | number}}% </td>
                  </ng-container>
              

                  <ng-container matColumnDef="detalle">
                    <th mat-header-cell *matHeaderCellDef> Ver</th>
                    <td mat-cell *matCellDef="let element">
                        <button mat-raised-button color="primary" id="logout-button"
                        class="btn btn-primary btn-block" style="width:50%" (click)="VerRegistros(element)">
                        <mat-icon>healing</mat-icon>
                    </button>
                  </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>
              <mat-paginator [pageSizeOptions]="[15, 30, 50]" showFirstLastButtons></mat-paginator>
              <button mat-raised-button
                (click)="exporter.exportTable('xlsx', {fileName:'test', sheet: 'sheet_name', Props: {Author: 'Talha'}})">Excel</button>
            </div>
          </mat-card-content>
        </mat-card>
      </mat-step>

      <mat-step>
        <ng-template matStepLabel>Usuarios</ng-template>
        <div class="table-responsive" *ngIf="detalleUsuarios!=null">
            <table id="customers" matTableExporter #exporter="matTableExporter" mat-table [dataSource]="dataSourceDetalle"
              class="mat-elevation-z8">
              <ng-container matColumnDef="position">
                <th mat-header-cell *matHeaderCellDef> No. </th>
                <td mat-cell *matCellDef="let element; let i = index"> {{i + 1}} </td>
              </ng-container>

    

              <ng-container matColumnDef="fecha">
                <th mat-header-cell *matHeaderCellDef> Fecha de Reporte </th>
                <td mat-cell *matCellDef="let element">
                  {{ element.fecha |date :"MMM/dd/yyyy" | uppercase }} </td>
              </ng-container>

              <ng-container matColumnDef="nombre">
                <th mat-header-cell *matHeaderCellDef> Nombre </th>
                <td mat-cell *matCellDef="let element">
                  {{element.nombre | uppercase}} </td>
              </ng-container>

              <ng-container matColumnDef="finca">
                  <th mat-header-cell *matHeaderCellDef> Finca </th>
                  <td mat-cell *matCellDef="let element">
                    {{element.finca | uppercase}} </td>
                </ng-container>
                <ng-container matColumnDef="total">
                  <th mat-header-cell *matHeaderCellDef> Total pedido</th>
                  <td mat-cell *matCellDef="let element">
                    {{element.total | number}} </td>
                </ng-container>
                <ng-container matColumnDef="cantidad">
                  <th mat-header-cell *matHeaderCellDef>  Mortalidad </th>
                  <td mat-cell *matCellDef="let element">
                    {{element.cantidad | number}} </td>
                </ng-container>
                <ng-container matColumnDef="porcentaje">
                  <th mat-header-cell *matHeaderCellDef> Porcentaje </th>
                  <td mat-cell *matCellDef="let element">
                    {{element.porcentaje | number}}% </td>
                </ng-container>

            
              <tr mat-header-row *matHeaderRowDef="displayedColumnsRegistros"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumnsRegistros;"></tr>
            </table>
            <mat-paginator [pageSizeOptions]="[15, 30, 50]" showFirstLastButtons></mat-paginator>
            <button mat-raised-button
              (click)="exporter.exportTable('xlsx', {fileName:'mortalidad', sheet: 'mortalidad', Props: {Author: 'Truchas Surala'}})">Excel</button>
          </div>
      </mat-step>
    </mat-horizontal-stepper>
  </div>