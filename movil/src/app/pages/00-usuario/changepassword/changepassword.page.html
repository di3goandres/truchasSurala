<app-header titulo="Cambio de Contraseña" icon="refresh-outline"></app-header>

<ion-content>
  <ion-card *ngIf="Guardo==false">
    <ion-card-header>
      <ion-card-title class="blue">Actualización de Contraseña</ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <form [formGroup]="passwordUpdateForm">
        <ion-grid style="font-size: 13px;">
          <ion-row>

            <ion-col>

              <ion-list lines="none">
                <ion-item>

                  <ion-avatar slot="start">
                    <img src="./assets/avatars/av-2.png">
                  </ion-avatar>
                  <ion-label position="floating" mode="ios">
                  </ion-label>
                  <ion-input type="password" formControlName="old_password" placeholder="Contraseña Actual"
                    [(ngModel)]="resetPassword.old_password" required></ion-input>
                </ion-item>

                <ion-item>

                  <ion-avatar slot="start">
                    <img src="./assets/avatars/av-3.png">
                  </ion-avatar>
                  <ion-label position="floating" mode="ios">
                  </ion-label>
                  <ion-input type="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" formControlName="password"
                    placeholder="Contraseña Nueva" [(ngModel)]="resetPassword.password" required>
                  </ion-input>
                </ion-item>

                <ion-item>

                  <ion-avatar slot="start">
                    <img src="./assets/avatars/av-3.png">
                  </ion-avatar>
                  <ion-label position="floating" mode="ios">
                  </ion-label>
                  <ion-input type="password" formControlName="password_confirm" autocomplete="off"
                    placeholder="Repetir la nueva contraseña" [(ngModel)]="resetPassword.password_confirm" required>
                  </ion-input>
                </ion-item>
                <small *ngIf="passwordUpdateForm.hasError('notSame')" class="ovaAlert">
                  Las Contraseñas no coinciden
                </small>

              </ion-list>



            </ion-col>
          </ion-row>
          <!-- <ion-label>
            {{passwordUpdateForm.errors |json}}
            {{passwordUpdateForm.valid|json}}
          </ion-label> -->
          <ion-row>
            <ion-col size="12">
              <ion-button (click)="Actualizar()" expand="block" fill="clear" shape="round"
                [disabled]="!passwordUpdateForm.valid">
                <ion-icon slot="start" name="refresh"></ion-icon>
                Actualizar
              </ion-button>
            </ion-col>
          </ion-row>

        </ion-grid>
      </form>

    </ion-card-content>
  </ion-card>


  <ion-card *ngIf="Guardo==true">
    <ion-card-header>
      <ion-card-title class="bandejaexitoso">Actualización Exitosa</ion-card-title>
      <ion-grid cols="1" rowHeight="1:1" fixed>
        <ion-row style="text-align: center">
          <ion-col>

          </ion-col>
          <ion-col>
            <img src="./assets/avatars/av-6.png">

          </ion-col>
          <ion-col>

          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <p class="exitoso">
              Excelente, Hemos actualizado la informacion correctamente
            </p>
            <ion-back-button  defaultHref="/"  color="primary" ></ion-back-button>

          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-header>
    <ion-card-content>
    </ion-card-content>
  </ion-card>

</ion-content>